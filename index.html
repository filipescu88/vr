<html>
  <head>
    <title>VR Room - A-Frame</title>
    <script src="https://aframe.io/releases/1.7.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/c-frame/aframe-physics-system@v4.2.2/dist/aframe-physics-system.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/wmurphyrd/aframe-super-hands-component@v3.0.3/dist/super-hands.min.js"></script>
  </head>
  <body>
    <a-scene vr-mode-ui="enabled: true" embedded style="height: 100vh; width: 100vw;" physics="driver: ammo; gravity: 0 -9.8 0">
      <!-- Assets -->
      <a-assets>
        <!-- Define materials for reuse -->
        <a-mixin id="wall-material" material="color: #E8E8E8; roughness: 0.8"></a-mixin>
        <a-mixin id="floor-material" material="color: #D4D4D4; roughness: 0.9"></a-mixin>
        <a-mixin id="furniture-material" material="color: #B8860B; roughness: 0.7"></a-mixin>
      </a-assets>

      <!-- Camera with WASD controls -->
      <a-entity id="rig" position="0 1.6 2">
        <a-camera 
          look-controls="enabled: true" 
          wasd-controls="enabled: true; acceleration: 20"
          position="0 0 0"
          cursor="rayOrigin: mouse"
          super-hands="colliderEvent: raycaster-intersection;
                      colliderEventProperty: els;
                      colliderEndEvent: raycaster-intersection-cleared;
                      colliderEndEventProperty: clearedEls;">
          <a-entity raycaster="objects: .grabbable" position="0 0 -1"></a-entity>
        </a-camera>
      </a-entity>

      <!-- Room Structure (6x6 meters) -->
      
      <!-- Floor -->
      <a-plane 
        mixin="floor-material"
        position="0 0 0" 
        rotation="-90 0 0" 
        width="6" 
        height="6"
        static-body>
      </a-plane>
      
      <!-- Ceiling -->
      <a-plane 
        mixin="wall-material"
        position="0 3 0" 
        rotation="90 0 0" 
        width="6" 
        height="6">
      </a-plane>
      
      <!-- North Wall -->
      <a-plane 
        mixin="wall-material"
        position="0 1.5 -3" 
        rotation="0 0 0" 
        width="6" 
        height="3"
        static-body>
      </a-plane>
      
      <!-- South Wall -->
      <a-plane 
        mixin="wall-material"
        position="0 1.5 3" 
        rotation="0 180 0" 
        width="6" 
        height="3"
        static-body>
      </a-plane>
      
      <!-- East Wall -->
      <a-plane 
        mixin="wall-material"
        position="3 1.5 0" 
        rotation="0 -90 0" 
        width="6" 
        height="3"
        static-body>
      </a-plane>
      
      <!-- West Wall -->
      <a-plane 
        mixin="wall-material"
        position="-3 1.5 0" 
        rotation="0 90 0" 
        width="6" 
        height="3"
        static-body>
      </a-plane>

      <!-- Furniture -->
      
      <!-- Table (positioned in center-left of room) -->
      <a-entity id="table" position="-1 0 -1" static-body>
        <!-- Table top -->
        <a-box 
          mixin="furniture-material"
          position="0 0.75 0" 
          width="1.5" 
          height="0.05" 
          depth="0.8">
        </a-box>
        <!-- Table legs -->
        <a-box 
          mixin="furniture-material"
          position="-0.65 0.375 -0.35" 
          width="0.05" 
          height="0.75" 
          depth="0.05">
        </a-box>
        <a-box 
          mixin="furniture-material"
          position="0.65 0.375 -0.35" 
          width="0.05" 
          height="0.75" 
          depth="0.05">
        </a-box>
        <a-box 
          mixin="furniture-material"
          position="-0.65 0.375 0.35" 
          width="0.05" 
          height="0.75" 
          depth="0.05">
        </a-box>
        <a-box 
          mixin="furniture-material"
          position="0.65 0.375 0.35" 
          width="0.05" 
          height="0.75" 
          depth="0.05">
        </a-box>
      </a-entity>

      <!-- Chair (positioned near table) - Interactive with physics -->
      <a-entity id="chair" position="-1 0.5 0.2" 
        class="grabbable"
        dynamic-body="mass: 5"
        grabbable>
        <!-- Chair seat -->
        <a-box 
          mixin="furniture-material"
          position="0 0.45 0" 
          width="0.5" 
          height="0.05" 
          depth="0.5">
        </a-box>
        <!-- Chair back -->
        <a-box 
          mixin="furniture-material"
          position="0 0.75 -0.225" 
          width="0.5" 
          height="0.6" 
          depth="0.05">
        </a-box>
        <!-- Chair legs -->
        <a-box 
          mixin="furniture-material"
          position="-0.2 0.225 -0.2" 
          width="0.05" 
          height="0.45" 
          depth="0.05">
        </a-box>
        <a-box 
          mixin="furniture-material"
          position="0.2 0.225 -0.2" 
          width="0.05" 
          height="0.45" 
          depth="0.05">
        </a-box>
        <a-box 
          mixin="furniture-material"
          position="-0.2 0.225 0.2" 
          width="0.05" 
          height="0.45" 
          depth="0.05">
        </a-box>
        <a-box 
          mixin="furniture-material"
          position="0.2 0.225 0.2" 
          width="0.05" 
          height="0.45" 
          depth="0.05">
        </a-box>
      </a-entity>

      <!-- Lighting -->
      <a-light type="ambient" color="#404040" intensity="0.4"></a-light>
      <a-light type="point" position="0 2.5 0" color="#FFFFFF" intensity="0.8"></a-light>
      
    </a-scene>
  </body>
</html>
